{% include head.html %}
{% include header.html %}

<section>
<<<<<<< HEAD
<input type="text" class="quicksearch" placeholder="Search" />
<ul id="columnlist">
{% assign post = site.posts | sort: 'title' %}
<li>
<a href="/wiki{{ post.url }}" >{{ post.title }} <span class="tagline">{{post.tags | array_to_sentence_string: "+"}}</span></a>
</li>
=======
<article class="fullwidth">
<h2>{{page.title}}</h2> 
{{content}}
<input type="text" class="quicksearch" placeholder="Buscar" />
<ul id="columnlist">
{% assign post = site.posts | sort: 'title' %}
{% for post in site.posts  %}
{% if post.category == "memex" %}
<li class="{{post.tags}}"><a href="{{ post.url }}" >{{ post.title }}<span class="dn">{{post.tags}}</span></a></li>
{% endif %}
{% endfor %}     
>>>>>>> parent of e4c60b1 (Update memex.html)
</ul>
</section>

<script>
var buttonFilters = {};
var buttonFilter;
// quick search regex
var qsRegex;

// init Isotope
var $grid = $('#columnlist').isotope({
itemSelector : 'li a', 
filter: function() {
var $this = $(this);
var searchResult = qsRegex ? $this.text().match( qsRegex ) : true;
var buttonResult = buttonFilter ? $this.is( buttonFilter ) : true;
return searchResult && buttonResult;
},
});

$('#filters').on( 'click', '.button', function() {
var $this = $(this);
// get group key
var $buttonGroup = $this.parents('.button-group');
var filterGroup = $buttonGroup.attr('data-filter-group');
// set filter for group
buttonFilters[ filterGroup ] = $this.attr('data-filter');
// combine filters
buttonFilter = concatValues( buttonFilters );
// Isotope arrange
$grid.isotope();
});

// use value of search field to filter
var $quicksearch = $('.quicksearch').keyup( debounce( function() {
qsRegex = new RegExp( $quicksearch.val(), 'gi' );
$grid.isotope();
}) );

// change is-checked class on buttons
$('.button-group').each( function( i, buttonGroup ) {
var $buttonGroup = $( buttonGroup );
$buttonGroup.on( 'click', 'button', function() {
$buttonGroup.find('.is-checked').removeClass('is-checked');
$( this ).addClass('is-checked');
});
});

// flatten object by concatting values
function concatValues( obj ) {
var value = '';
for ( var prop in obj ) {
value += obj[ prop ];
}
return value;
}

// debounce so filtering doesn't happen every millisecond
function debounce( fn, threshold ) {
var timeout;
threshold = threshold || 100;
return function debounced() {
clearTimeout( timeout );
var args = arguments;
var _this = this;
function delayed() {
fn.apply( _this, args );
}
timeout = setTimeout( delayed, threshold );
};
}
</script>